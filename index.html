<html>
    <head>
        <title>Sketchadelphia</title>
        
        <link rel="icon" 
      type="image/svg" 
      href="https://image.flaticon.com/icons/svg/206/206868.svg">
        
        <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
        <meta charset="utf-8">
        
        <script src="lib/polyline.js"></script>
    
        <style>
            #map {
                height: 100%;
            }
            #controls {
                position: fixed;
                z-index: 1000;
            }
            #controls > input {
                margin-top: 16px;
                margin-left: 16px;
                width: 200px;
                height: 40px;
                border-radius: 2px;
                background-color: white;
                border-color: transparent;
                font-size: 14px;
            }
            html, body {
                height: 100%;
                margin: 0;
                padding: 0;
            }
        </style>
    </head>
    <body>
    
        <div id="controls">
            <input type="text" placeholder="City Hall">Strong</input>
        </div>
        <div id="map"></div>
        
        
    </body>
    <script>
        
      var polylines = [];

      function initMap() {
        var myLatLng = {lat: 39.9816, lng: -75.1494};
          
        directionsService = new google.maps.DirectionsService();
        map = new google.maps.Map(document.getElementById('map'), {
          zoom: 15,
          center: myLatLng,
            disableDefaultUI: true,
            styles: [
  {
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#212121"
      }
    ]
  },
  {
    "elementType": "labels.icon",
    "stylers": [
      {
        "visibility": "off"
      }
    ]
  },
  {
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#757575"
      }
    ]
  },
  {
    "elementType": "labels.text.stroke",
    "stylers": [
      {
        "color": "#212121"
      }
    ]
  },
  {
    "featureType": "administrative",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#757575"
      }
    ]
  },
  {
    "featureType": "administrative.country",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#9e9e9e"
      }
    ]
  },
  {
    "featureType": "administrative.land_parcel",
    "stylers": [
      {
        "visibility": "off"
      }
    ]
  },
  {
    "featureType": "administrative.locality",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#bdbdbd"
      }
    ]
  },
  {
    "featureType": "poi",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#757575"
      }
    ]
  },
  {
    "featureType": "poi.park",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#181818"
      }
    ]
  },
  {
    "featureType": "poi.park",
    "elementType": "geometry.fill",
    "stylers": [
      {
        "color": "#001000"
      }
    ]
  },
  {
    "featureType": "poi.park",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#616161"
      }
    ]
  },
  {
    "featureType": "poi.park",
    "elementType": "labels.text.stroke",
    "stylers": [
      {
        "color": "#1b1b1b"
      }
    ]
  },
  {
    "featureType": "road",
    "elementType": "geometry.fill",
    "stylers": [
      {
        "color": "#2c2c2c"
      }
    ]
  },
  {
    "featureType": "road",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#8a8a8a"
      }
    ]
  },
  {
    "featureType": "road.arterial",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#373737"
      }
    ]
  },
  {
    "featureType": "road.highway",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#3c3c3c"
      }
    ]
  },
  {
    "featureType": "road.highway.controlled_access",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#4e4e4e"
      }
    ]
  },
  {
    "featureType": "road.local",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#616161"
      }
    ]
  },
  {
    "featureType": "transit",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#757575"
      }
    ]
  },
  {
    "featureType": "water",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#000000"
      }
    ]
  },
  {
    "featureType": "water",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#3d3d3d"
      }
    ]
  }
]
        });
          

          plotDirections("1226 Spring Valley Lane 19380", "1300 Cecil B Moore")
          
      }
        
     function plotDirections(from, to) {

         clearPolylines();
         
         var request = {
            origin: from,
            destination: to,
            travelMode: 'DRIVING'
        };
  
        directionsService.route(request, function(result, status) {
            if (status == 'OK') {
                
                var route = result['routes'][0];
                var legs = route['legs'];
                
                for(var l = 0; l < legs.length; l++) {
                    var steps = legs[l]['steps'];
                    for (var s = 0; s < steps.length; s++) {
                        
                        var path = decodePolylineString(steps[s]['polyline']['points']);
                        var polyline = new google.maps.Polyline({
                            path: path,
                            geodesic: true,
                            strokeColor: 'rgb(50,100,150)',
                            strokeOpacity: 1.0,
                            strokeWeight: 2
                        });
          
                        polyline.setMap(map);
                    }
                }
            }
        });
         
         var squareCoords = [
            new google.maps.LatLng(39.9816, -75.1494),
            new google.maps.LatLng(39.9816, -75.14935),
            new google.maps.LatLng(39.98165, -75.14935),
            new google.maps.LatLng(39.98165, -75.1494),
        ];

        mapsquare = new google.maps.Polygon({
  paths: squareCoords,
  strokeColor: "#FF0000",
  strokeOpacity: 1,
  strokeWeight: 1,
  fillColor: "#FF0000",
  fillOpacity: 0.35
 });

 mapsquare.setMap(map);
     }
        
        function decodePolylineString(str) {
            var polygonsAsTwoDArray = polyline.decode(str);
            var polygonsAsArrayOfObjects = [];
            for(var i = 0; i < polygonsAsTwoDArray.length; i++) {
                polygonsAsArrayOfObjects.push({
                    lat: polygonsAsTwoDArray[i][0],
                    lng: polygonsAsTwoDArray[i][1]
                })
            }
            return polygonsAsArrayOfObjects;
        }
        
        function clearPolylines() {
            for(var p = 0; p < polylines.length; p++) {
                polylines[p].setMap(null);
            }
            polylines.length = 0;
        }
        //src="https://maps.googleapis.com/maps/api/js?v=3&key=AIzaSyB7J1zsErb9_7jxNu5KU5kIENFObAQEbl0&callback=initMap&"
    </script>
    <script async defer
        src="https://maps.googleapis.com/maps/api/js?v=3&key=AIzaSyB7J1zsErb9_7jxNu5KU5kIENFObAQEbl0&callback=initMap">
    </script>
</html>